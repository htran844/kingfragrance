$(document).ready(function(){AOS.init({offset:0,easing:"ease-in-out-cubic",duration:"500"}),$(window).on("load",function(){$(this).scrollTop()>0?$("#header").addClass("scrolled"):$("#header").removeClass("scrolled")}),$(document).scroll(function(){$(this).scrollTop()>$("#main").offset().top?$(".back-top").addClass("active"):$(".back-top").removeClass("active"),$(this).scrollTop()>0?$("#header").addClass("scrolled"):$("#header").removeClass("scrolled")}),$(".back-top").on("click",function(){$(".back-top").removeClass("active"),$("html, body").animate({scrollTop:0},1e3)})}),$("#addToCart").click(function(){if(image_pr=document.getElementById("image_pr").getAttribute("src"),productid_pr=document.getElementById("productid_pr").innerHTML,capacity_pr=document.getElementById("capacity_pr").value,quantity_pr=document.getElementById("quantity_pr").value,cost_pr=document.getElementById("cost_pr").innerHTML,name_pr=document.getElementById("name_pr").innerHTML,isNaN(capacity_pr)||0==capacity_pr)alert("Bạn chưa chọn dung tích!");else if(localStorage){var e={productid_pr:productid_pr,capacity_pr:capacity_pr,quantity_pr:quantity_pr,cost_pr:cost_pr,name_pr:name_pr,image_pr:image_pr},t=localStorage.length;localStorage.setItem("product"+t,JSON.stringify(e)),alert("Thêm thành công!")}});var moneyReal=document.getElementById("cost_pr");function getMoneyByCapacity(){capacity_pr=document.getElementById("capacity_pr").value,money=document.getElementById("cost_pr").innerHTML=moneyReal.innerHTML,capacity_pr=Number(capacity_pr),money=Number(money),document.getElementById("cost_pr").innerHTML=money+"";var e=.01*money*capacity_pr;e=Math.round(e),document.getElementById("cost_pr").innerHTML=e+""}var lengthOfLocalStorage=localStorage.length;function getDataLocalStorageToCart(){var e="",t=null;if(localStorage)for(let n=0;n<lengthOfLocalStorage;n++)e+=`\n       <li class="item-product">\n\n       <div class="icon-close" >\n       <span style="display:none;" class="product_LocalStorage">${"product"+n}</span>\n       <i  class="fas fa-times"></i></div>\n      \n       <hr>\n       <div class="d-inline-block">\n           <img src="${(t=JSON.parse(localStorage.getItem("product"+n))).image_pr}" id="image-pr" width="180px" alt="">\n       </div>\n       <div class="d-inline-block">\n           <h3 class="name-product"><a href="" id="name-pr">${t.name_pr} </a>-<br><span id="capacity-pr">${t.capacity_pr}</span></h3> <br>\n           <span class="money" id="money-pr"> ${t.cost_pr}</span> <span> ₫</span>\n       </div>\n       <div class="d-inline-block">\n           <div class="quantity">\n               <label class="screen-reader-text" for=""></label>\n               <input type="number" id="quantity-pr" class="input-text qty text"\n                   step="1" min="0" max="" name=""\n                   value="${t.quantity_pr}" title="SL" size="4" placeholder="" inputmode="numeric"  onclick="changeMoney()">\n           </div>\n       </div>\n       </li>\n      \n       `;document.getElementById("list_pr").innerHTML=e}function getAllProduct(){0==document.querySelectorAll(".section-cart .module-left li").length?($(".module-cart").hide(),$("#tm-main").show()):($("#tm-main").hide(),$(".module-cart").show())}function tinhTien(){var e=0,t=document.querySelectorAll(".item-product");for(let c=0;c<t.length;c++){var n=t[c].children[3].children[2].innerHTML,a=t[c].children[4].children[0].children[1].value;a=Number(a),e+=n=Number(n)*a}document.getElementById("totalMoney").innerHTML=e+"",document.getElementById("tamTinh").innerHTML=e+""}function changeMoney(){tinhTien()}getDataLocalStorageToCart(),$(".icon-close").click(function(){if(localStorage){var e=$(this).children("span")[0].innerHTML;localStorage.removeItem(e)}$(this).parent(".item-product").remove(),getAllProduct(),tinhTien()}),getAllProduct();